FROM openjdk:11
ARG JAR_FILE=target/*.jar
ARG PF_PROFILE
ARG PROFILE
ARG PF_DB_ADDRESS
ARG DB_ADDRESS
ARG PF_DB_PASSWORD
ARG DB_PASSWORD
ARG PF_JWT_SECRET
ARG JWT_SECRET
ARG PF_KAKAO_CLIENT_ID
ARG KAKAO_CLIENT_ID
ARG PF_KAKAO_LOGIN_REDIRECT_URI
ARG KAKAO_LOGIN_REDIRECT_URI
COPY ${JAR_FILE} app.jar
ENTRYPOINT ["java", "${PF_PROFILE}${PROFILE}", "${PF_DB_ADDRESS}${DB_ADDRESS}", "${PF_DB_PASSWORD}${DB_PASSWORD}", "${PF_JWT_SECRET}${JWT_SECRET}", "${PF_KAKAO_CLIENT_ID}${KAKAO_CLIENT_ID}", "${PF_KAKAO_LOGIN_REDIRECT_URI}${KAKAO_LOGIN_REDIRECT_URI}", "-jar", "/app.jar"]
